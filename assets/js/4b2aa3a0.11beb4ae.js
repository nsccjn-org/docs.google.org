"use strict";(self.webpackChunkawesometic_docs=self.webpackChunkawesometic_docs||[]).push([[7857],{15627:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"software/3.4_use/3.4.2_chemistry/liggght","title":"liggght","description":"liggghts\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u79bb\u6563\u5143\u7a0b\u5e8f\u5305\uff0c\u662f\u4ee5lammps\u4e3a\u57fa\u7840\u8fdb\u4e00\u6b65\u5f00\u53d1\u7684\uff0c\u5176\u5168\u79f0\u4e3a\uff1a LAMMPS Improved for General Granular and Granular Heat Transfer Simulations\uff0c\u9996\u5b57\u6bcd\u7b80\u5199\u4e3aLIGGGHTS","source":"@site/hpc/3_software/3.4_use/3.4.2_chemistry/liggght.md","sourceDirName":"3_software/3.4_use/3.4.2_chemistry","slug":"/software/3.4_use/3.4.2_chemistry/liggght","permalink":"/hpc/software/3.4_use/3.4.2_chemistry/liggght","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20},"sidebar":"hpc","previous":{"title":"ABACUS","permalink":"/hpc/software/3.4_use/3.4.2_chemistry/abacus"},"next":{"title":"psi4","permalink":"/hpc/software/3.4_use/3.4.2_chemistry/psi4"}}');var l=t(74848),r=t(28453);const a={sidebar_position:20},s="liggght",o={},c=[{value:"liggghts\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u79bb\u6563\u5143\u7a0b\u5e8f\u5305\uff0c\u662f\u4ee5lammps\u4e3a\u57fa\u7840\u8fdb\u4e00\u6b65\u5f00\u53d1\u7684\uff0c\u5176\u5168\u79f0\u4e3a\uff1a LAMMPS Improved for General Granular and Granular Heat Transfer Simulations\uff0c\u9996\u5b57\u6bcd\u7b80\u5199\u4e3aLIGGGHTS**",id:"liggghts\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u79bb\u6563\u5143\u7a0b\u5e8f\u5305\u662f\u4ee5lammps\u4e3a\u57fa\u7840\u8fdb\u4e00\u6b65\u5f00\u53d1\u7684\u5176\u5168\u79f0\u4e3a-lammps-improved-for-general-granular-and-granular-heat-transfer-simulations\u9996\u5b57\u6bcd\u7b80\u5199\u4e3aliggghts",level:6},{value:"\u4e00\u3001\u811a\u672c\u6a21\u677f",id:"\u4e00\u811a\u672c\u6a21\u677f",level:3},{value:"\u4e8c\u3001 \u7f16\u8bd1",id:"\u4e8c-\u7f16\u8bd1",level:3},{value:"\u62a5\u9519\uff1a",id:"\u62a5\u9519",level:5}];function g(e){const n={code:"code",h1:"h1",h3:"h3",h5:"h5",h6:"h6",header:"header",hr:"hr",pre:"pre",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"liggght",children:"liggght"})}),"\n",(0,l.jsx)(n.h6,{id:"liggghts\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u79bb\u6563\u5143\u7a0b\u5e8f\u5305\u662f\u4ee5lammps\u4e3a\u57fa\u7840\u8fdb\u4e00\u6b65\u5f00\u53d1\u7684\u5176\u5168\u79f0\u4e3a-lammps-improved-for-general-granular-and-granular-heat-transfer-simulations\u9996\u5b57\u6bcd\u7b80\u5199\u4e3aliggghts",children:"liggghts\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u79bb\u6563\u5143\u7a0b\u5e8f\u5305\uff0c\u662f\u4ee5lammps\u4e3a\u57fa\u7840\u8fdb\u4e00\u6b65\u5f00\u53d1\u7684\uff0c\u5176\u5168\u79f0\u4e3a\uff1a LAMMPS Improved for General Granular and Granular Heat Transfer Simulations\uff0c\u9996\u5b57\u6bcd\u7b80\u5199\u4e3aLIGGGHTS**"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\u4e00\u811a\u672c\u6a21\u677f",children:"\u4e00\u3001\u811a\u672c\u6a21\u677f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash \n#SBATCH --nodes=1\n#SBATCH --ntasks-per-node=56 \n#SBATCH --partition=g1_share \n#SBATCH --job-name=liggght \n#SBATCH --output=liggghts.%j.out \n#SBATCH --error=liggghts.%j.err \n\nulimit -s unlimited\nulimit -l unlimited\nunset I_MPI_PMI_LIBRARY                        # \u53d6\u6d88\u9ed8\u8ba4mpi\u5e93\uff0c\u4f7f\u7528intel\u81ea\u5e26\nexport I_MPI_JOB_RESPECT_PROCESS_PLACEMENT=0   # intel \u591a\u8282\u70b9\u4f5c\u4e1a\u6240\u9700\u4fee\u6539\u53c2\u6570 \nmodule load gcc/9.4.0       # intel \u73af\u5883\u52a0\u8f7d\nmodule load hpcx/2.11\nmodule load liggghts/3.8_gcc9.4\n\n\nmpirun -x lmp_auto -in  in.sph_1                                 \n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\u4e8c-\u7f16\u8bd1",children:"\u4e8c\u3001 \u7f16\u8bd1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'#1\u3001\u4e0b\u8f7d\u5730\u5740 \n#liggghts https://github.com/CFDEMproject/LIGGGHTS-PUBLIC/tags\n#vtk    https://gitlab.kitware.com/ vtk/vtk \n#2\u3001\u73af\u5883\u9009\u62e9 gcc9.4+openmpi4.1.1_gcc9.4  cmake/3.23.1\n export CC=`which gcc`\n export CXX=`which g++`\n export FC=`which gfortran`\n #3\u3001\u9009\u62e9vtk \u7248\u672c\n tar xf LIGGGHTS-PUBLIC-3.8.0.tar.gz \n vim LIGGGHTS-PUBLIC-3.8.0/src/MAKE/Makefile.auto\n /vtk\n #\u67e5\u770b liggght \u8981\u4e0b\u8f7d\u7684vtk \u7248\u672c \uff0c3.8.0\u7248\u672cliggghts \u4f9d\u8d56 VTK-8.0.1 \u4e0b\u8f7d\u5730\u5740\u4e3a http://www.vtk.org/files/release/8.0/VTK-8.0.1.zip\n #4\u3001\u67e5\u770b vtk \u7f16\u8bd1\u547d\u4ee4 \n #\u67e5\u627e cmake \n /cmkae \n  # N n  \u4e0a\u4e0b\u5207\u6362\u641c\u7d22\u9879 \u5927\u6982\u5728 800 \u884c \ncmake -DBUILD_TESTING:BOOL=OFF -DCMAKE_BUILD_TYPE:STRING=Release -DCMAKE_INSTALL_PREFIX=../install -DModule_vtkIOMPIParallel:BOOL=ON -DVTK_Group_MPI:BOOL=ON -DVTK_Group_Rendering:BOOL=OFF -DVTK_RENDERING_BACKEND:STRING=None -DVTK_USE_X:BOOL=OFF -DModule_vtkIOMPIImage:BOOL=ON -DModule_vtkParallelMPI:BOOL=ON ../\n#\u9000\u51fa LIGGGHTS-PUBLIC-3.8.0/src/MAKE/Makefile.auto \u6587\u4ef6\n:q\n# 5\u3001\u5b89\u88c5 vtk \nunzip VTK-8.0.1.zip\ncd VTK-8.0.1\nmkdir build\ncd build\ncmake -DBUILD_TESTING:BOOL=OFF -DCMAKE_BUILD_TYPE:STRING=Release -DCMAKE_INSTALL_PREFIX=../install -DModule_vtkIOMPIParallel:BOOL=ON -DVTK_Group_MPI:BOOL=ON -DVTK_Group_Rendering:BOOL=OFF -DVTK_RENDERING_BACKEND:STRING=None -DVTK_USE_X:BOOL=OFF -DModule_vtkIOMPIImage:BOOL=ON -DModule_vtkParallelMPI:BOOL=ON ../\nmake -j 20\nmake install -j 20\n#6\u3001\u5b89\u88c5 liggghts\ncd LIGGGHTS-PUBLIC-3.8.0/src/\nmake auto \n#\u4fee\u6539 MAKE/Makefile.user\n12 AUTOINSTALL_VTK = "ON"\n###vtk \u5b89\u88c5\u76ee\u5f55\n120 VTK_INC_USR=-I/sh2/software/app/liggghts/vtk/VTK-8.0.1/install/include/vtk-8.0\n122 VTK_LIB_USR=-L/sh2/software/app/liggghts/vtk/VTK-8.0.1/install/lib\n#\u4fdd\u5b58\u9000\u51fa\nmake auto\n#\u7f16\u8bd1\u6210\u529f\u540e\u4f1a \u751f\u6210 lmp_auto\n##7\u3001\u52a0\u8f7d \u73af\u5883\u53d8\u91cf \u9700\u8981 \u52a0\u8f7d vtk lib \u76ee\u5f55 \u53ca lmp_auto\u6587\u4ef6\u76ee\u5f55\n'})}),"\n",(0,l.jsx)(n.h5,{id:"\u62a5\u9519",children:"\u62a5\u9519\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\u7528\u6237\u8981\u6c42\u534f\u52a9\u7f16\u8bd1liggght\uff0c\u5e76\u544a\u77e5\u5979\u5bf9\u6e90\u4ee3\u7801\u8fdb\u884c\u4e86\u90e8\u5206\u4fee\u6539\uff0c\u6ca1\u6cd5\u76f4\u63a5\u7528\u96c6\u7fa4\u4e2d\u9884\u7f16\u8bd1\u7684\u3002\u672c\u5730\u80fd\u6b63\u5e38\u7f16\u8bd1\u5b89\u88c5\u3002\n\u672c\u5730\u73af\u5883:openmpi1.10.7 vtk6.2 liggght3.8 \u6e90\u4ee3\u7801\u4fee\u6539\u7248\u672c gcc4.8.5\nvtk \u7f16\u8bd1\uff1a\n  cmake -DBUILD_TESTING:BOOL=OFF -DCMAKE_BUILD_TYPE:STRING=Release -DCMAKE_INSTALL_PREFIX=../install -DModule_vtkIOMPIParallel:BOOL=ON -DVTK_Group_MPI:BOOL=ON  -DModule_vtkIOMPIImage:BOOL=ON -DModule_v\ntkParallelMPI:BOOL=ON ../\n make -j\n make -j install\nliggght:\u7f16\u8bd1\nvim MAKE/Makefinde.mpi\nMPI_INC = -I/public/software/mpi/openmpi/1.10.7/openmpi_gcc4.8.5/include\nMPI_PATH = -L/public/software/mpi/openmpi/1.10.7/openmpi_gcc4.8.5/lib\nFFT_INC = -I/public/software/mathlib/fftw/3.3.10/fftw_gcc4.8.5/include\nFFT_PATH = -L/public/software/mathlib/fftw/3.3.10/fftw_gcc4.8.5/lib\nVTK_INC =   -I/public/home/limc/software/6.2/vtk-v6.2.0/install/include/vtk-6.2\nVTK_PATH =  -L/public/home/limc/software/6.2/vtk-v6.2.0/install/lib\nJPG_INC = -I/usr/include\nJPG_PATH = -L/usr/lib64\n\nmake mpi\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"1.\u627e\u4e0d\u5230vtk \u5e93 \u6dfb\u52a0\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf\nexport LD_LIBRARY_PATH=/public/home/limc/software/6.2/vtk-v6.2.0/install/lib:/public/software/mpi/openmpi/1.10.7/openmpi_gcc4.8.5/lib:$LD_LIBRARY_PATH\nexport PATH=/public/home/limc/software/6.2/vtk-v6.2.0/install/bin:/public/software/mpi/openmpi/1.10.7/openmpi_gcc4.8.5/bin:$PATH\n2\u3001\u5c11\u51fd\u6570\n\n\u6000\u7591\u6e90\u7801\u95ee\u9898\uff0c\u67e5\u770b\u63d0\u793a\u4e2d\u7684\u51fd\u6570\u5305\u542b\u5728LIGGGHTS-PUBLIC-3.8.0/src: neigh_request.h\n\u6309\u7167\u63d0\u793a\u67e5\u770bpair_hybrid.cpp \u53ca pair_hybrif_overlay.cpp \u4e24\u4e2a\u6587\u4ef6\uff0c\u53d1\u73b0\u5747\u5305\u542b neigh_request.h\n\u56e0\u7528\u6237\u4fee\u6539\u8fc7\u6e90\u7801\uff0c\u5c1d\u8bd5\u7f16\u8bd1\u539f\u7248liggght,\u5224\u65ad\u662f\u5426\u4e3a\u4f9d\u8d56\u73af\u5883\u95ee\u9898\uff0c\u7f16\u8bd1\u6b63\u5e38\uff0c\u57fa\u672c\u6392\u9664\u4f9d\u8d56\u5e93\u95ee\u9898\u3002\n\u4f7f\u7528 diff \u6bd4\u5bf9\u539f\u7248\u548c\u7528\u6237\u4fee\u6539\u6e90\u7801\u540e\u7684\u7248\u672c\uff0c\u8f93\u51fa\u63d0\u793a4\u5343\u591a\u884c\uff0c\u91cd\u70b9\u7b5b\u9009\u4e0a\u8ff0\u62a5\u9519\u63d0\u5230\u7684\u51e0\u4e2a\u6587\u4ef6\u53caneigh_request\u5b57\u6837\u7684\u6587\u4ef6\u540d\u7684\u6587\u4ef6\uff0c\u53d1\u73b0\u5c11LIGGGHTS-PUBLIC-3.8.0/src: neigh_request.cpp\n\u590d\u5236\u539f\u7248\u4e2d LIGGGHTS-PUBLIC-3.8.0/src: neigh_request.cpp\u5230\u7528\u6237\u4fee\u6539\u7248\u672c\u7684\u6e90\u7801\u5305\u5bf9\u5e94\u4f4d\u7f6e\uff0c\u7f16\u8bd1\u6210\u529f\n\u4e0e\u7528\u6237\u786e\u8ba4 LIGGGHTS-PUBLIC-3.8.0/src: neigh_request.cpp \u672a\u7ecf\u8fc7\u4fee\u6539\uff0c\u5e76\u7d22\u8981\u7b97\u4f8b\uff0c\u7ecf\u6d4b\u8bd5\u7f16\u8bd1\u6b63\u5e38\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(g,{...e})}):g(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(96540);const l={},r=i.createContext(l);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);