"use strict";(self.webpackChunkawesometic_docs=self.webpackChunkawesometic_docs||[]).push([[7987],{28453:(n,e,a)=>{a.d(e,{R:()=>r,x:()=>l});var s=a(96540);const c={},o=s.createContext(c);function r(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),s.createElement(o.Provider,{value:e},n.children)}},81668:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"software/3.3_install","title":"\u8f6f\u4ef6\u5b89\u88c5","description":"\u4e00\uff0c \u8f6f\u4ef6\u7f16\u8bd1\u6d41\u7a0b\uff08\u5efa\u8bae\uff09","source":"@site/hpc/3_software/3.3_install.md","sourceDirName":"3_software","slug":"/software/3.3_install","permalink":"/hpc/software/3.3_install","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"hpc","previous":{"title":"\u8f6f\u4ef6\u52a0\u8f7d","permalink":"/hpc/software/3.2_module"},"next":{"title":"\u8f6f\u4ef6\u4f7f\u7528","permalink":"/hpc/category/\u8f6f\u4ef6\u4f7f\u7528"}}');var c=a(74848),o=a(28453);const r={sidebar_position:4},l="\u8f6f\u4ef6\u5b89\u88c5",d={},t=[{value:"\u4e00\uff0c \u8f6f\u4ef6\u7f16\u8bd1\u6d41\u7a0b\uff08\u5efa\u8bae\uff09",id:"\u4e00-\u8f6f\u4ef6\u7f16\u8bd1\u6d41\u7a0b\u5efa\u8bae",level:3},{value:"\u76ee\u524d\u8d85\u7b97\u5e73\u53f0\u6709\u4e24\u79cd\u7f16\u8bd1\u73af\u5883\uff0c\u6db5\u76d6Intel\u548cGNU\u7f16\u8bd1\u5668\uff0c\u53ef\u901a\u8fc7module\u7684\u4f7f\u7528\u65b9\u6cd5\u52a0\u8f7d\u7f16\u8bd1\u73af\u5883\u3002",id:"\u76ee\u524d\u8d85\u7b97\u5e73\u53f0\u6709\u4e24\u79cd\u7f16\u8bd1\u73af\u5883\u6db5\u76d6intel\u548cgnu\u7f16\u8bd1\u5668\u53ef\u901a\u8fc7module\u7684\u4f7f\u7528\u65b9\u6cd5\u52a0\u8f7d\u7f16\u8bd1\u73af\u5883",level:6},{value:"\u5907\u6ce8\uff1a\u5bf9\u4e8e\u7b80\u5355\u7684\u6e90\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u5668\u5148\u751f\u6210\u76ee\u6807\u6587\u4ef6\u518d\u94fe\u63a5\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002",id:"\u5907\u6ce8\u5bf9\u4e8e\u7b80\u5355\u7684\u6e90\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u5668\u5148\u751f\u6210\u76ee\u6807\u6587\u4ef6\u518d\u94fe\u63a5\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6",level:6},{value:"\u4e8c\uff0c python\u73af\u5883\u5b89\u88c5\u53ca\u4f7f\u7528\uff08conda\u5de5\u5177\uff09",id:"\u4e8c-python\u73af\u5883\u5b89\u88c5\u53ca\u4f7f\u7528conda\u5de5\u5177",level:3},{value:"1. \u9700\u8981\u586b\u5145\u5bb6\u76ee\u5f55\u4e2d\u7684 .condarc \u6587\u4ef6\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4",id:"1-\u9700\u8981\u586b\u5145\u5bb6\u76ee\u5f55\u4e2d\u7684-condarc-\u6587\u4ef6\u6267\u884c\u5982\u4e0b\u547d\u4ee4",level:6},{value:"2. \u52a0\u8f7dconda\u73af\u5883",id:"2-\u52a0\u8f7dconda\u73af\u5883",level:6},{value:"3. \u521b\u5efaconda\u73af\u5883",id:"3-\u521b\u5efaconda\u73af\u5883",level:6},{value:"4. conda\u4f7f\u7528",id:"4-conda\u4f7f\u7528",level:6},{value:"5. \u8d26\u6237\u521d\u59cb\u5316conda\u73af\u5883",id:"5-\u8d26\u6237\u521d\u59cb\u5316conda\u73af\u5883",level:6},{value:"\u9644\uff1a\u4f7f\u7528pip\u547d\u4ee4\u5b89\u88c5\u8f6f\u4ef6",id:"\u9644\u4f7f\u7528pip\u547d\u4ee4\u5b89\u88c5\u8f6f\u4ef6",level:5},{value:"\u4e09\uff0c \u4e8c\u8fdb\u5236\u5b89\u88c5\uff08\u4e0d\u5efa\u8bae\uff09",id:"\u4e09-\u4e8c\u8fdb\u5236\u5b89\u88c5\u4e0d\u5efa\u8bae",level:3},{value:"0. \u524d\u7f6e\u6761\u4ef6-\u6dfb\u52a0host",id:"0-\u524d\u7f6e\u6761\u4ef6-\u6dfb\u52a0host",level:6},{value:"1. CentOS7 yum\u6e90\u914d\u7f6e",id:"1-centos7-yum\u6e90\u914d\u7f6e",level:6},{value:"3. \u4f7f\u7528yum\u547d\u4ee4\u8fdb\u884c\u64cd\u4f5c",id:"3-\u4f7f\u7528yum\u547d\u4ee4\u8fdb\u884c\u64cd\u4f5c",level:6}];function i(n){const e={code:"code",h1:"h1",h3:"h3",h5:"h5",h6:"h6",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"\u8f6f\u4ef6\u5b89\u88c5",children:"\u8f6f\u4ef6\u5b89\u88c5"})}),"\n",(0,c.jsx)(e.h3,{id:"\u4e00-\u8f6f\u4ef6\u7f16\u8bd1\u6d41\u7a0b\u5efa\u8bae",children:"\u4e00\uff0c \u8f6f\u4ef6\u7f16\u8bd1\u6d41\u7a0b\uff08\u5efa\u8bae\uff09"}),"\n",(0,c.jsx)(e.h6,{id:"\u76ee\u524d\u8d85\u7b97\u5e73\u53f0\u6709\u4e24\u79cd\u7f16\u8bd1\u73af\u5883\u6db5\u76d6intel\u548cgnu\u7f16\u8bd1\u5668\u53ef\u901a\u8fc7module\u7684\u4f7f\u7528\u65b9\u6cd5\u52a0\u8f7d\u7f16\u8bd1\u73af\u5883",children:"\u76ee\u524d\u8d85\u7b97\u5e73\u53f0\u6709\u4e24\u79cd\u7f16\u8bd1\u73af\u5883\uff0c\u6db5\u76d6Intel\u548cGNU\u7f16\u8bd1\u5668\uff0c\u53ef\u901a\u8fc7module\u7684\u4f7f\u7528\u65b9\u6cd5\u52a0\u8f7d\u7f16\u8bd1\u73af\u5883\u3002"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u5982\u6bcf\u6b21\u90fd\u9700\u8981\u4f7f\u7528\uff0c\u5219\u53ef\u5728\u7528\u6237\u76ee\u5f55\u4e0b\u7684 .bashrc \u6587\u4ef6\u4e2d\u8fdb\u884c\u6dfb\u52a0\uff0c\u4f7f\u5176\u767b\u9646\u540e\u81ea\u52a8\u52a0\u8f7d\u7f16\u8bd1\u73af\u5883\u3002"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{children:"\u8f6f\u4ef6\u7f16\u8bd1\u5927\u81f4\u6d41\u7a0b\u5982\u4e0b\uff1a\n\n\uff081\uff09\u51c6\u5907\n\u914d\u7f6e\u7f16\u8bd1\u4e4b\u524d\uff0c\u67e5\u8be2\u5b98\u65b9\u8d44\u6599\u5e76\u786e\u5b9a\u9700\u6c42\u7684\u7f16\u8bd1\u73af\u5883\u3001\u4f9d\u8d56\u5e93\u3001\u8f6f\u4ef6\u9700\u8981\u5b89\u88c5\u7684\u7ec4\u4ef6\u4ee5\u53ca\u8f6f\u4ef6\u5b89\u88c5\u7684\u4f4d\u7f6e\u7b49\u3002\n\n\uff082\uff09\u914d\u7f6e\n\u8f6f\u4ef6\u7684\u914d\u7f6e\u4fe1\u606f\u4fdd\u5b58\u5728\u4e00\u4e2aconfigure\u6587\u4ef6\u4e2d\uff0c\u8be5\u6587\u4ef6\u662f\u7531autoconf\u5de5\u5177\u751f\u6210\u7684\uff0c\u901a\u8fc7\u8fd0\u884c\u8be5\u811a\u672c\u52a0\u5165--help\u6216-h\u53c2\u6570\u83b7\u53d6\u5177\u4f53\u8f6f\u4ef6\u7684\u7f16\u8bd1\u53c2\u6570\u3002\n\na.\u5e38\u89c4\u4f7f\u7528\u65b9\u6cd5\uff0c\u8f6f\u4ef6\u914d\u7f6e\u6267\u884c ./configure --prefix=folder\uff0c\u4f7f\u7528--prefix\u53c2\u6570\u6307\u5b9a\u5b89\u88c5\u4f4d\u7f6e\u5373\u53ef\u3002\nb.\u5982\u82e5\u4f7f\u7528Intel\u7f16\u8bd1\u5668\u8fdb\u884c\u7a0b\u5e8f\u7f16\u8bd1\uff0c\u5219\u53ef\u4f7f\u7528F77=ifort FC=ifort CC=icc CXX=icpc ./configure --prefix=folder \u547d\u4ee4\u6307\u5b9a\u7f16\u8bd1\u5668\u3002\n\n\uff083\uff09\u7f16\u8bd1\n\u4f7f\u7528make\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\uff0c\u901a\u5e38\u4f7f\u7528-j\u53c2\u6570\u6307\u5b9a\u7f16\u8bd1\u7684\u7ebf\u7a0b\u6570(\u4e0d\u52a0\u53c2\u6570\u9ed8\u8ba4\u4f7f\u7528\u673a\u5668\u6838\u5fc3\u6570\u4e3a\u7ebf\u7a0b\u6570)\uff0c\u9ed8\u8ba4\u6267\u884cmake\u5373\u53ef\uff0c\u4e5f\u53ef\u6307\u5b9amake -j \u7ebf\u7a0b\u6570 \u547d\u4ee4\uff0c\u8fdb\u884c\u591a\u7ebf\u7a0b\u52a0\u901f\u3002\n\n\uff084\uff09\u5b89\u88c5\nmake\u547d\u4ee4\u7f16\u8bd1\u5b8c\u6210\u4e14\u65e0\u62a5\u9519\u540e\uff0c\u6267\u884cmake install\u547d\u4ee4\uff0c\u5373\u53ef\u5c06\u8f6f\u4ef6\u5b89\u88c5\u5728configure\u4e2dprefix\u53c2\u6570\u6307\u5b9a\u7684\u5b89\u88c5\u76ee\u5f55\u4e2d\u3002\n"})}),"\n",(0,c.jsx)(e.h6,{id:"\u5907\u6ce8\u5bf9\u4e8e\u7b80\u5355\u7684\u6e90\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u5668\u5148\u751f\u6210\u76ee\u6807\u6587\u4ef6\u518d\u94fe\u63a5\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6",children:"\u5907\u6ce8\uff1a\u5bf9\u4e8e\u7b80\u5355\u7684\u6e90\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u5668\u5148\u751f\u6210\u76ee\u6807\u6587\u4ef6\u518d\u94fe\u63a5\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002"}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"\u4e8c-python\u73af\u5883\u5b89\u88c5\u53ca\u4f7f\u7528conda\u5de5\u5177",children:"\u4e8c\uff0c python\u73af\u5883\u5b89\u88c5\u53ca\u4f7f\u7528\uff08conda\u5de5\u5177\uff09"}),"\n",(0,c.jsx)(e.p,{children:"\u96c6\u7fa4\u9ed8\u8ba4python\u73af\u5883\u4e3a 2.7\uff0c\u4e14\u6ca1\u6709\u76f8\u5173\u7684\u4f9d\u8d56\u5305\u3002\u5047\u8bbe\u60a8\u9700\u8981\u4f7f\u7528python\u4f9d\u8d56\u5305\u6216\u8005\u66f4\u9ad8\u7248\u672c\u7684python\u73af\u5883\uff0c\u63a8\u8350\u60a8\u81ea\u884c\u521b\u5efapython\u73af\u5883\u4ee5\u53ca\u5b89\u88c5\u4f9d\u8d56\u5305\uff08module\u4e2d\u53ea\u6709\u4e00\u4e2a 3.9 \u73af\u5883\uff09"}),"\n",(0,c.jsx)(e.h6,{id:"1-\u9700\u8981\u586b\u5145\u5bb6\u76ee\u5f55\u4e2d\u7684-condarc-\u6587\u4ef6\u6267\u884c\u5982\u4e0b\u547d\u4ee4",children:"1. \u9700\u8981\u586b\u5145\u5bb6\u76ee\u5f55\u4e2d\u7684 .condarc \u6587\u4ef6\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'cat > ~/.condarc << "EOF"\nchannels:\n  - defaults\nshow_channel_urls: true\ndefault_channels:\n  - https://mirrors.shanhe.com/anaconda/pkgs/main\n  - https://mirrors.shanhe.com/anaconda/pkgs/r\n  - https://mirrors.shanhe.com/anaconda/pkgs/msys2\ncustom_channels:\n  bioconda: https://mirrors.shanhe.com/anaconda/cloud\n  conda-forge: https://mirrors.shanhe.com/anaconda/cloud\nssl_verify: false\nEOF\n'})}),"\n",(0,c.jsx)(e.h6,{id:"2-\u52a0\u8f7dconda\u73af\u5883",children:"2. \u52a0\u8f7dconda\u73af\u5883"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"module load conda3\n"})}),"\n",(0,c.jsx)(e.h6,{id:"3-\u521b\u5efaconda\u73af\u5883",children:"3. \u521b\u5efaconda\u73af\u5883"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"conda create -n python39 python=3.9\n# -n: \u8bbe\u7f6e\u65b0\u7684\u73af\u5883\u7684\u540d\u5b57\n# python=3.9 \u6307\u5b9a\u65b0\u73af\u5883\u7684python\u7684\u7248\u672c\uff0c\u975e\u5fc5\u987b\u53c2\u6570\n# \u8fd9\u91cc\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e2a-y\u53c2\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\u5b89\u88c5\u7684\u786e\u8ba4\u8fc7\u7a0b\u3002\n"})}),"\n",(0,c.jsx)(e.h6,{id:"4-conda\u4f7f\u7528",children:"4. conda\u4f7f\u7528"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u542f\u52a8\u52a0\u8f7dpython\u73af\u5883\nconda activate python39\n\n# conda \u5b89\u88c5\u547d\u4ee4\nconda install gatk \n\n# \u5b89\u88c5\u6307\u5b9a\u7248\u672c \n# conda install \u8f6f\u4ef6\u540d=\u7248\u672c\u53f7 \nconda install gatk=3.7\n\n# conda \u641c\u7d22\u9700\u8981\u7684\u5b89\u88c5\u5305\nconda search gatk\n\n# \u66f4\u65b0\u6307\u5b9a\u8f6f\u4ef6\nconda update gatk\n\n# \u5378\u8f7d\u6307\u5b9a\u8f6f\u4ef6\nconda remove gatk\n"})}),"\n",(0,c.jsx)(e.h6,{id:"5-\u8d26\u6237\u521d\u59cb\u5316conda\u73af\u5883",children:"5. \u8d26\u6237\u521d\u59cb\u5316conda\u73af\u5883"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u5c06 conda \u73af\u5883\u4ee5\u53ca\u521b\u5efa \uff0c\u8d26\u6237\u81ea\u52a8\u52a0\u8f7d\n# \u5c06\u5982\u4e0b\u547d\u4ee4\u52a0\u5165 ~/.bashrc \u6587\u4ef6\u4e2d\nmodule load conda3\nconda activate python39\n"})}),"\n",(0,c.jsx)(e.h5,{id:"\u9644\u4f7f\u7528pip\u547d\u4ee4\u5b89\u88c5\u8f6f\u4ef6",children:"\u9644\uff1a\u4f7f\u7528pip\u547d\u4ee4\u5b89\u88c5\u8f6f\u4ef6"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u4e0b\u9762\u4e3e\u4f8b\u4e86pip\u5b89\u88c5numpy\u5e93\npip install numpy -i https://mirrors.shanhe.com/simple --trusted-host mirrors.shanhe.com\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"\u4e09-\u4e8c\u8fdb\u5236\u5b89\u88c5\u4e0d\u5efa\u8bae",children:"\u4e09\uff0c \u4e8c\u8fdb\u5236\u5b89\u88c5\uff08\u4e0d\u5efa\u8bae\uff09"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u5047\u8bbe\u60a8\u6709\u7279\u6743\u7684\u8bdd\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e8c\u8fdb\u5236\u7684\u65b9\u5f0f\u8fdb\u884c\u8f6f\u4ef6\u5b89\u88c5\uff0c\u5982yum\u53carpm\u547d\u4ee4"})}),"\n",(0,c.jsx)(e.h6,{id:"0-\u524d\u7f6e\u6761\u4ef6-\u6dfb\u52a0host",children:"0. \u524d\u7f6e\u6761\u4ef6-\u6dfb\u52a0host"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"vi /etc/hosts\n### \u8ffd\u52a0\u4e00\u884c 10.251.102.1 mirrors.shanhe.com\n10.251.102.1 mirrors.shanhe.com\n## \u4fdd\u5b58\u540e\u9000\u51fa \uff1awq\n"})}),"\n",(0,c.jsx)(e.h6,{id:"1-centos7-yum\u6e90\u914d\u7f6e",children:"1. CentOS7 yum\u6e90\u914d\u7f6e"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u4fee\u6539\u6587\u4ef6 /etc/yum.repos.d/CentOS-Base.repo\n# \u6539\u4e3a\u4e00\u4e0b\u5185\u5bb9\n[base]\nname=CentOS-$releasever - Base - mirrors.shanhe.com\nfailovermethod=priority\nbaseurl=http://10.251.102.1/centos/$releasever/os/$basearch/\ngpgcheck=0\nenabled=1 \n\n[epel]\nname=Extra Packages for Enterprise Linux 7 - $basearch\nbaseurl=http://10.251.102.1/epel/7/$basearch\nfailovermethod=priority\nenabled=1\ngpgcheck=0\n"})}),"\n",(0,c.jsx)(e.h6,{id:"3-\u4f7f\u7528yum\u547d\u4ee4\u8fdb\u884c\u64cd\u4f5c",children:"3. \u4f7f\u7528yum\u547d\u4ee4\u8fdb\u884c\u64cd\u4f5c"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# 1. \u5217\u51fa\u6240\u6709\u53ef\u66f4\u65b0\u7684\u8f6f\u4ef6\u6e05\u5355\u547d\u4ee4\uff1ayum check-update\n# 2. \u66f4\u65b0\u6240\u6709\u8f6f\u4ef6\u547d\u4ee4\uff1ayum update\n# 3. \u4ec5\u5b89\u88c5\u6307\u5b9a\u7684\u8f6f\u4ef6\u547d\u4ee4\uff1ayum install <package_name>\n# 4. \u4ec5\u66f4\u65b0\u6307\u5b9a\u7684\u8f6f\u4ef6\u547d\u4ee4\uff1ayum update <package_name>\n# 5. \u5217\u51fa\u6240\u6709\u53ef\u5b89\u88dd\u7684\u8f6f\u4ef6\u6e05\u5355\u547d\u4ee4\uff1ayum list\n# 6. \u5220\u9664\u8f6f\u4ef6\u5305\u547d\u4ee4\uff1ayum remove <package_name>\n# 7. \u67e5\u627e\u8f6f\u4ef6\u5305\u547d\u4ee4\uff1ayum search <keyword>\n"})}),"\n",(0,c.jsx)(e.hr,{})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(i,{...n})}):i(n)}}}]);