"use strict";(self.webpackChunkawesometic_docs=self.webpackChunkawesometic_docs||[]).push([[4823],{28453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>r});var o=t(96540);const s={},a=o.createContext(s);function i(n){const e=o.useContext(a);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),o.createElement(a.Provider,{value:e},n.children)}},75391:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"manual/random","title":"\u6279\u91cf\u968f\u673a\u590d\u5236","description":"","source":"@site/hpc/manual/random.md","sourceDirName":"manual","slug":"/manual/random","permalink":"/hpc/manual/random","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"sidebar_position":22},"sidebar":"hpc","previous":{"title":"\u6279\u91cf\u590d\u5236","permalink":"/hpc/manual/parallel-cp"},"next":{"title":"\u83b7\u53d6\u652f\u6301","permalink":"/hpc/lxwm"}}');var s=t(74848),a=t(28453);const i={sidebar_position:22},r="\u6279\u91cf\u968f\u673a\u590d\u5236",c={},l=[];function f(n){const e={code:"code",h1:"h1",header:"header",pre:"pre",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u6279\u91cf\u968f\u673a\u590d\u5236",children:"\u6279\u91cf\u968f\u673a\u590d\u5236"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\nwhile getopts f: OPT;\ndo\n        case $OPT in\n                f|+f)\n                        files="$OPTARG $files"\n                        ;;\n                *)\n                        echo "usage: `basename $0` [-f hostfile] <from> <to>"\n                        exit 2\n        esac\ndone\nshift `expr $OPTIND - 1`\n\nif [ "" = "$files" ];\nthen\n        echo "usage: `basename $0` [-f hostfile] <from> <to>"\n        exit\nfi\n\nfor file in $files\ndo\n        if [ ! -f "$file" ];\n        then\n                echo "no hostlist file:$file"\n                exit\nfi\nhosts="$hosts `cat $file`"\ndone\n\nfor host in $hosts;\ndo\n        echo "do $host"\n        scp $1 root@$host:$2\ndone\n\n\n#need hosts file\n\n#example use\n\n## ./randomcopy.sh -f ./hosts /usr/local/source /usr/local/\n'})})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(f,{...n})}):f(n)}}}]);