"use strict";(self.webpackChunkawesometic_docs=self.webpackChunkawesometic_docs||[]).push([[8575],{847:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"software/3.5_env/shell","title":"shell","description":"\u4e00\u3001\u6b63\u5219\u8868\u8fbe\u5f0f","source":"@site/hpc/3_software/3.5_env/shell.md","sourceDirName":"3_software/3.5_env","slug":"/software/3.5_env/shell","permalink":"/hpc/software/3.5_env/shell","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"hpc","previous":{"title":"R","permalink":"/hpc/software/3.5_env/R"},"next":{"title":"singularityce","permalink":"/hpc/software/3.5_env/singularity"}}');var a=e(74848),l=e(28453);const o={sidebar_position:7},r="shell",i={},c=[{value:"\u4e00\u3001\u6b63\u5219\u8868\u8fbe\u5f0f",id:"\u4e00\u6b63\u5219\u8868\u8fbe\u5f0f",level:3},{value:"\u4e8c\u3001\u811a\u672c&#39;\u4e09\u5251\u5ba2&#39;",id:"\u4e8c\u811a\u672c\u4e09\u5251\u5ba2",level:3},{value:"\u4e09\u3001\u4f8b\u5b50",id:"\u4e09\u4f8b\u5b50",level:3},{value:"\u56db\u3001shell \u6761\u4ef6\u6d4b\u8bd5",id:"\u56dbshell-\u6761\u4ef6\u6d4b\u8bd5",level:3},{value:"\u4e94\u3001shell if\u8bed\u53e5\u7c7b\u578b",id:"\u4e94shell-if\u8bed\u53e5\u7c7b\u578b",level:3},{value:"\u516d\u3001shell for\u8bed\u53e5\u7c7b\u578b",id:"\u516dshell-for\u8bed\u53e5\u7c7b\u578b",level:3},{value:"\u4e03\u3001shell while\u8bed\u53e5\u7c7b\u578b",id:"\u4e03shell-while\u8bed\u53e5\u7c7b\u578b",level:3},{value:"\u516b\u3001shell case\u8bed\u53e5\u7c7b\u578b",id:"\u516bshell-case\u8bed\u53e5\u7c7b\u578b",level:3}];function d(n){const t={code:"code",h1:"h1",h3:"h3",header:"header",pre:"pre",...(0,l.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"shell",children:"shell"})}),"\n",(0,a.jsx)(t.h3,{id:"\u4e00\u6b63\u5219\u8868\u8fbe\u5f0f",children:"\u4e00\u3001\u6b63\u5219\u8868\u8fbe\u5f0f"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# \u901a\u914d\u7b26\n\u4efb\u610f\u957f\u5ea6\u4efb\u610f\u5b57\u7b26,\u5c5e\u4e8e\u901a\u914d\u7b26\n? \u5355\u4e2a\u4efb\u610f\u5b57\u7b26,\u5c5e\u4e8e\u901a\u914d\u7b26\n# \u57fa\u7840\u6b63\u5219\u8868\u8fbe\u5f0f\n\\\t\u8f6c\u4e49\u7b26\n^\t\u5339\u914d\u884c\u9996\n$\t\u5339\u914d\u884c\u5c3e\n^$\t\u8868\u793a\u7a7a\u884c\n.\t\u5339\u914d\u9664\u6362\u884c\u7b26\\n\u4e4b\u5916\u7684\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\n.*\t\u5339\u914d\u4efb\u610f\u957f\u5ea6\u4efb\u610f\u5b57\u7b26\n[]\t\u5339\u914d\u5305\u542b\u5728[\u5b57\u7b26]\u4e4b\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\n[^]\t\u5339\u914d[^\u5b57\u7b26]\u4e4b \u5916\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\n^[^\u5b57\u7b26]\t\u5339\u914d\u975e \u6307\u5b9a\u5b57\u7b26\u5f00\u5934\u7684\u884c\n\\{n\\}\t\u5339\u914d\u4e4b\u524d\u7684\u9879n\u6b21\uff0cn\u662f\u53ef\u4ee5\u4e3a0\u7684\u6b63\u6574\u6570\n\\{n,\\}\t\u4e4b\u524d\u7684\u9879\u81f3\u5c11\u9700\u8981\u5339\u914dn\u6b21\n\\{n,m\\}\t\u6307\u5b9a\u4e4b\u524d\u7684\u9879\u81f3\u5c11\u5339\u914dn\u6b21\uff0c\u6700\u591a\u5339\u914dm\u6b21\n# \u8f6c\u4e49\u7b26\n\\a\t\u54cd\u94c3\n\\b\t\u9000\u683c\n\\n\t\u6362\u884c\n\\r\t\u66ff\u6362\u5b57\u7b26\n\\t\t\u7a7a\u4e00\u4e2atab\u952e\u4f4d\u7f6e\n\\v\t\u5236\u8868\u7b26\n\\\\\\\t\u4ee3\u8868\u4e00\u4e2a\u53cd\u659c\u6760\u5b57\u7b26\n"})}),"\n",(0,a.jsx)(t.h3,{id:"\u4e8c\u811a\u672c\u4e09\u5251\u5ba2",children:"\u4e8c\u3001\u811a\u672c'\u4e09\u5251\u5ba2'"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# grep\n$ grep \u53c2\u6570 '\u5173\u952e\u5b57' \u6587\u4ef6\u540d\n\u53c2\u6570\n\t-i\t\u5ffd\u7565\u5927\u5c0f\u5199\n\t-v\t\u663e\u793a\u6ca1\u6709\u88ab\u6a21\u5f0f\u5339\u914d\u5230\u7684\u884c,\u76f8\u5f53\u4e8e^[^]\n\t-o\t\u53ea\u663e\u793a\u88ab\u6a21\u5f0f\u5339\u914d\u5230\u7684\u5b57\u7b26\u4e32\n\t-n\t\u663e\u793a\u5339\u914d\u884c\u53ca\u884c\u53f7\n\t-c\t\u53ea\u8f93\u51fa\u5339\u914d\u884c\u7684\u8ba1\u6570\n\t-l\t\u67e5\u8be2\u591a\u6587\u4ef6\u65f6\u53ea\u8f93\u51fa\u5305\u542b\u5339\u914d\u5b57\u7b26\u7684\u6587\u4ef6\u540d\n\t-L\t\u6253\u5370\u4e0d\u5339\u914d\u7684\u6587\u4ef6\u540d\n\t-e\t\u6ee1\u8db3\u591a\u4e2a\u8fc7\u6ee4\u53c2\u6570\u7684\u6761\u4ef6\n\t-r\t\u9012\u5f52\u67e5\u8be2\n\t-E\t\u4f7f\u7528\u6269\u5c55\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\n\t-w\t\u53ea\u663e\u793a\u5168\u5355\u8bcd\u7b26\u5408\u7684\u884c\n\t-q\t\u5339\u914d\u5185\u5bb9\u4e0d\u663e\u793a(\u9759\u9ed8\u6a21\u5f0f)\n$ sed \u9009\u9879 '\u884c\u5b9a\u754c /old\u5b57\u7b26/new\u5b57\u7b26/ \u5217\u5b9a\u754c\u7b26 \u5904\u7406\u52a8\u4f5c' \u6587\u4ef6\u540d\n\u5b9a\u754c\u7b26\n\ts \u66ff\u6362\u6307\u5b9a\u7684\u5b57\u7b26\n\tg \u5168\u5c40\u66ff\u6362\n\ti \u4e0d\u533a\u5206\u5b57\u7b26\u5927\u5c0f\u5199\n\u9009\u9879\n\t-i \u76f4\u63a5\u7f16\u8f91\u539f\u6587\u4ef6\n\t-e 'script' -e 'script': \u6307\u5b9a\u591a\u4e2a\u7f16\u8f91\u6307\u4ee4\n\t-n \u9759\u9ed8\u6a21\u5f0f(\u9ed8\u8ba4\u6253\u5370)\uff0c\u6216\u53ea\u663e\u793a\u5339\u914d\u540e\u7684\u5185\u5bb9\n\u5904\u7406\u52a8\u4f5c:\n\t! \u53d6\u53cd\uff0c\u5982!W\u3001!=\u3001!d\u3001!i\\#\u3001!r \\#\u3001!w \\#\n\td \u5220\u9664\n\tc \u53d6\u4ee3,c\u540e\u9762\u53ef\u4ee5\u63a5\u5b57\u4e32\uff0c\u8fd9\u4e9b\u5b57\u4e32\u53ef\u4ee5\u53d6\u4ee3n1,n2\u4e4b\u95f4\u7684\u884c\n\tp \u6253\u5370\uff0c\u901a\u5e38p\u4f1a\u4e0e\u53c2\u6570-n- -\u8d77\n\ti\u6216i\\ : \u5728\u88ab\u6307\u5b9a\u5230\u884c\u7684\u4e0a\u9762\u63d2\u5165\u6587\u672c\n\ta\u6216a \\ : \u5728\u88ab\u6307\u5b9a\u7684\u884c\u7684\u4e0b\u9762\u63d2\u5165\u6587\u672c\n\t\\n: \u6362\u884c\n\tr \u6587\u4ef6:\u5728\u6307\u5b9a\u4f4d\u7f6e\u628a\u53e6\u5916-\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u63d2\u5165\n\tw \u6587\u4ef6:\u5c06\u7b26\u5408\u6761\u4ef6\u7684\u6240\u6709\u884c\u4fdd\u5b58\u81f3\u6307\u5b9a\u6587\u4ef6\u4e2d\n\t= \u663e\u793a\u7b26\u5408\u6761\u4ef6\u7684\u884c\u7684\u884c\u53f7\n$ awk \u9009\u9879 '\u6a21\u5f0f\u6216\u6761\u4ef6(\u7f16\u8f91\u547d\u4ee4)' \u6587\u4ef6\n# awk\u7684\u5e38\u7528\u7684\u5185\u7f6e\u53d8\u91cf\n\tFILENAME awk \u8bfb\u53d6\u7684\u6587\u4ef6\u540d\n\tFNR \u6d4f\u89c8\u6587\u4ef6\u7684\u8bb0\u5f55\u6570(\u6d4f\u89c8\u6587\u4ef6\u6b21\u6570\uff0c\u6587\u4ef6\u4f1a\u7d2f\u52a0\u8bb0\u5f55)\n\tNF \u6d4f\u89c8\u8bb0\u5f55\u7684\u57df\u4e2a\u6570(\u5f53\u524d\u884c\u7684\u5b57\u6bb5\u6570)\n\t$NF \u8868\u793a\u6700\u540e\u4e00\u4e2a\u533a\u57df\n\tNR \u5df2\u8bfb\u7684\u8bb0\u5f55\u884c\u6570(\u547d\u4ee4\u540e\u8ddf\u7684\u6240\u6709\u6587\u4ef6\u7edf\u4e00\u5408\u5e76\u8ba1\u6570)\n"})}),"\n",(0,a.jsx)(t.h3,{id:"\u4e09\u4f8b\u5b50",children:"\u4e09\u3001\u4f8b\u5b50"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# grep\ngrep -i '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0  # \u5ffd\u7565\u5927\u5c0f\u5199\u8fc7\u6ee4\u5173\u952e\u5b57\ngrep -v '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t# \u8fc7\u6ee4\u975e\u5173\u952e\u5b57\u7684\u884c\ngrep -o '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t# \u53ea\u663e\u793a\u88ab\u5339\u914d\u5230\u7684\u5b57\u7b26\ngrep -n '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t# \u8fc7\u6ee4\u5173\u952e\u5b57\uff0c\u5e76\u5e26\u884c\u53f7\u6253\u5370\ngrep -e '\u5173\u952e\u5b571' -e '\u5173\u952e\u5b572' \u6587\u672c\u540d\u79f0 # \u8fc7\u6ee4\u5173\u952e\u5b571\u5e76\u4e14\u8fc7\u6ee4\u5173\u952e\u5b572\ngrep -l '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f01  \u6587\u672c\u540d\u79f02\t# \u8fc7\u6ee4\u5173\u952e\u5b57\u5b58\u5728\u7684\u6587\u4ef6\u540d\ngrep -L '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f01\t \u6587\u672c\u540d\u79f02\t# \u8fc7\u6ee4\u5173\u952e\u5b57\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\u540d\ngrep -w '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t# \u4ee5\u5355\u8bcd\u5f62\u5f0f\u8fc7\u6ee4\ngrep -q '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t# \u9759\u9ed8\u6a21\u5f0f\uff0c\u4e0d\u8f93\u51fa\u4efb\u4f55\u4fe1\u606f\ngrep '\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t \t# \u8fc7\u6ee4\u5e26\u6709\u5173\u952e\u5b57\u7684\u884c\ngrep '^\u5173\u952e\u5b57' \u6587\u672c\u540d\u79f0\t# \u8fc7\u6ee4\u4ee5\u5173\u952e\u5b57\u5f00\u5934\u7684\u884c\ngrep '\u5173\u952e\u5b57$' \u6587\u672c\u540d\u79f0\t# \u8fc7\u6ee4\u4ee5\u5173\u952e\u5b57\u7ed3\u5c3e\u7684\u884c\ngrep '^a..b' \u6587\u672c\u540d\u79f0\t  # \u8fc7\u6ee4\u4ee5a\u5f00\u5934\u4e2d\u95f4\u4e24\u4e2a\u4efb\u610f\u5b57\u7b26b\u7ed3\u5c3e\u7684\u884c\ngrep 'a*' \u6587\u672c\u540d\u79f0\t\t  # \u8fc7\u6ee4\u4ee5a\u5f00\u5934\u540e\u9762\u8ddf\u7740\u4efb\u610f\u957f\u5ea6\u7684\u4efb\u610f\u5b57\u7b26\u7684\u884c\ngrep -c '^$' \u6587\u672c\u540d\u79f0\t  # \u8fc7\u6ee4\u7a7a\u884c\n# sed\nsed 's/aaa/bbb/' \u6587\u672c\u540d\u79f0   # \u5168\u6587\u9996\u5339\u914d\u66ff\u6362\nsed 's/aaa/bbb/g' \u6587\u672c\u540d\u79f0  # \u5168\u6587\u5339\u914d\u66ff\u6362\t\nsed 's/aaa//g' \u6587\u672c\u540d\u79f0\t\t# \u5168\u6587\u5339\u914d\u66ff\u6362\u4e3a\u7a7a\nsed '2 s/aaa/bbb/' \u6587\u672c\u540d\u79f0 # \u7b2c\u4e8c\u884c\u5355\u884c\u9996\u5339\u914d\u66ff\u6362\nsed '2 s/aaa/bbb/g' \u6587\u672c\u540d\u79f0# \u7b2c\u4e8c\u884c\u5355\u884c\u5168\u884c\u66ff\u6362\nsed 's/^/aaa/g' \u6587\u672c\u540d\u79f0\t# \u5168\u884c\u9996\u63d2\u5165\nsed 's/aaa/bbb/2' \u6587\u672c\u540d\u79f0\t# \u6bcf\u884c\u7b2c\u4e8c\u6b21\u5339\u914d\u5230\u7684\u66ff\u6362\nsed '2 s/aaa/bbb/2' \u6587\u672c\u540d\u79f0# \u7b2c\u4e8c\u884c\u7b2c\u4e8c\u6b21\u5339\u914d\u5230\u7684\u66ff\u6362\nsed 'G' \u6587\u672c\u540d\u79f0\t\t\t# \u5728\u6587\u4ef6\u7684\u6bcf\u884c\u540e\u6dfb\u52a0\u7a7a\u884c\nsed '1c aaa' \u6587\u672c\u540d\u79f0\t\t# \u6574\u884c\u4f4e\u7f13\uff0c\u628a\u7b2c\u4e00\u884c\u66ff\u6362\u6210aaa\nsed '1,3c aaa' \u6587\u672c\u540d\u79f0\t\t# \u628a\u7b2c\u4e00\u884c\u5230\u7b2c\u4e09\u884c\u66ff\u6362\u6210\u4e00\u884caaa\nsed -n '2p' \u6587\u672c\u540d\u79f0\t\t# \u53ea\u663e\u793a\u7b2c\u4e8c\u884c\nsed -n '1,2p' \u6587\u672c\u540d\u79f0\t\t# \u53ea\u663e\u793a\u7b2c\u4e00\u884c\u5230\u7b2c\u4e8c\u884c\nsed '2q' \u6587\u672c\u540d\u79f0\t\t\t# \u53ea\u6253\u5370\u524d\u4e24\u884c\nsed -n '/ftp/p' \u6587\u672c\u540d\u79f0\t# \u53ea\u6253\u5370\u5e26\u6709ftp\u5b57\u7b26\u7684\u884c\nsed -n '$p' \u6587\u672c\u540d\u79f0\t\t# \u53ea\u6253\u5370\u6700\u540e\u4e00\u884c\nsed -n '2,$p' \u6587\u672c\u540d\u79f0\t\t# \u53ea\u6253\u5370\u7b2c\u4e8c\u884c\u5230\u6700\u540e\u4e00\u884c\nsed -n '1p;$p' \u6587\u672c\u540d\u79f0\t\t# \u53ea\u6253\u5370\u7b2c\u4e00\u884c\u5230\u6700\u540e\u4e00\u884c\nsed '2d' \u6587\u672c\u540d\u79f0\t\t\t# \u5220\u9664\u7b2c\u4e8c\u884c\nsed '$d' \u6587\u672c\u540d\u79f0\t\t\t# \u5220\u9664\u6700\u540e\u4e00\u884c\nsed '1,3d' \u6587\u672c\u540d\u79f0\t\t\t# \u5220\u9664\u7b2c\u4e00\u884c\u5230\u7b2c\u4e09\u884c\nsed '/^\\$/d' \u6587\u672c\u540d\u79f0\t\t# \u5220\u9664\u4ee5$\u5b57\u7b26\u5f00\u5934\u7684\u884c\nsed '$!d' \u6587\u672c\u540d\u79f0\t\t\t# \u5220\u9664\u9664\u4e86\u6700\u540e\u4e00\u884c\u5916\u7684\u5176\u4ed6\u884c\nsed '/^$/d' \u6587\u672c\u540d\u79f0\t\t# \u5220\u9664\u7a7a\u884c\nsed '/aaa$/d' \u6587\u672c\u540d\u79f0\t\t# \u5220\u9664\u4ee5aaa\u7ed3\u5c3e\u7684\u884c\n# awk\nawk 'NR==1{print}' \u6587\u672c\u540d\u79f0              # \u6253\u5370\u6587\u4ef6\u7b2c\u4e00\u884c\nawk -F ':' '{print $1}' \u6587\u672c\u540d\u79f0 \t\t # \u4ee5:\u4e3a\u5206\u9694\u7b26\uff0c\u53ea\u6253\u5370\u6574\u4e2a\u6587\u4ef6\u7b2c\u4e00\u5217\nawk -F':\u2019 {print $3}' \u6587\u672c\u540d\u79f0 \t   \t\t# \u4ee5:\u4e3a\u5206\u9694\u7b26\uff0c\u53ea\u6253\u5370\u6587\u4ef6\u7b2c\u4e09\u5217\nawk '{print}' \u6587\u672c\u540d\u79f0\t\t\t \t    # \u4ee5\u9ed8\u8ba4\u5206\u9694\u7b26(\u7a7a\u683c\u5206\u5272\u7b26)\uff0c\u6253\u5370\u6574\u4e2a\u6587\u4ef6($0\u8868\u793a\u6574\u4e2a\u6587\u4ef6\u5217)\nawk '{print}' < \u6587\u672c\u540d\u79f0\ncat \u6587\u672c\u540d\u79f0 |awk '{print}'\nawk '{print $0}' \u6587\u672c\u540d\u79f0\nawk '/root/' \u6587\u672c\u540d\u79f0                   # \u4ee5:\u53f7\u4e3a\u5206\u5272\u7b26\uff0c\u5339\u914d\u6253\u5370\u5e26\u6709root\u5b57\u7b26\u7684\u884c(/\u5b57\u7b26/\u5b57\u7b26\u5339\u914d)\nawk -F':' '/^root/' \u6587\u672c\u540d\u79f0            # \u4ee5:\u53f7\u4e3a\u5206\u5272\u7b26\uff0c\u6253\u5370\u5f00\u5934\u662froot\u5b57\u7b26\u7684\u884c\nawk -F':' '/^\\<root\\>/' \u6587\u672c\u540d\u79f0          \nawk -F':' '/^(root|ftp)/{print $1,$7}' \u6587\u672c\u540d\u79f0 # \u4ee5:\u53f7\u4e3a\u5206\u5272\u7b26\uff0c\u6253\u5370\u5f00\u5934\u662froot\u5b57\u7b26\u6216\u8005ftp\u5b57\u7b26\u7684\u884c\u7684\u7b2c\u4e00\u5217\u548c\u7b2c\u4e03\u5217\u5b57\u7b26\nawk -F':' '!/^root/' \u6587\u672c\u540d\u79f0            # \u4ee5:\u53f7\u4e3a\u5206\u5272\u7b26,\u6253\u5370\u5f00\u5934\u975eroot\u5b57\u7b26\u7684\u884c,!\u53d6\u53cd\u7684\u610f\u601d\nawk '/^$/' \u6587\u672c\u540d\u79f0                      # \u6253\u5370\u6587\u4ef6\u4e2d\u7a7a\u884c\nawk '/2019$/' \u6587\u672c\u540d\u79f0                \t # \u4ee5:\u7a7a\u683c\u4e3a\u5206\u9694\u7b26\uff0c\u6253\u5370\u7ed3\u5c3e\u4e3a2019\u7684\u884c\nawk '/^[Rr]oot/' \u6587\u672c\u540d\u79f0 \t\t\t\t # \u4ee5\u9ed8\u8ba4\u7a7a\u683c\u5206\u5272\u7b26\uff0c\u6253\u5370Root\u6216root\u5f00\u5934\u7684\u884c\nifconfig ens32|awk '/<inet\\>/{print $2}'# \u8fc7\u6ee4\u7f51\u5361IP\n# \u6761\u4ef6\u64cd\u4f5c\u63cf\u8ff0\u7b26\n\t\u5173\u7cfb\u64cd\u4f5c\u7b26>\u3001 >=\u3001<\u3001 <=\u3001==(\u7cbe\u786e\u5339\u914d)\u3001!=(\u4e0d\u7b49\u4e8e)\n\t\u8d4b\u503c\u64cd\u4f5c\u7b26=\u3001+=\u3001*=\u3001/=\u3001%=\u3001^=\n# \u6761\u4ef6\u8868\u8fbe\u64cd\u4f5c\u7b26\n\t\u6216||\u3001\u4e0e&&\u3001\u975e!\n\t\u5339\u914d\u64cd\u4f5c\u7b26-(\u6a21\u5f0f\u5339\u914d,\u6a21\u7cca\u5339\u914d) !~\n\t\u7b97\u672f\u64cd\u4f5c\u7b26+\u3001-\u3001*\u3001/\u3001%\u3001^(\u6b21\u65b9)\n"})}),"\n",(0,a.jsx)(t.h3,{id:"\u56dbshell-\u6761\u4ef6\u6d4b\u8bd5",children:"\u56db\u3001shell \u6761\u4ef6\u6d4b\u8bd5"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'# \u6761\u4ef6\u6d4b\u8bd5\n\t#\u6d4b\u8bd5\u7279\u5b9a\u7684\u6761\u4ef6\u662f\u5426\u6210\u7acb\u5f53\u6761\u4ef6\u6210\u7acb\u5219\u8fd4\u56de0\uff0c\u5426\u5219\u8fd4\u56de\u5176\u4ed6\u6570\u503c\u6839\u636e\u547d\u4ee4\u7684\u6267\u884c\u8fd4\u56de\u503c\u6765\u5224\u65ad\n\t0  \u771f \u6267\u884c\u6210\u529fTrue\n\t\u975e0 \u5047 \u6267\u884c\u5931\u8d25False\n# test\u547d\u4ee4\u6d4b\u8bd5\u5f62\u5f0f\n\ttest \u6761\u4ef6\u8868\u8fbe\u5f0f\n# \u5e38\u89c1\u7684\u6761\u4ef6\u6d4b\u8bd5\n\u6587\u4ef6\u6d4b\u8bd5\n\t-d \u5224\u65ad\u662f\u5426\u4e3a\u76ee\u5f55\n\t-f \u5224\u65ad\u662f\u5426\u4e3a\u6587\u4ef6\n\t-r \u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u8bfb\u53d6\u6743\u9650\n\t-W \u5224\u65ad\u5f53\u524d\u7528\u6237\u662f\u5426\u6709\u5199\u5165\u6743\u9650\n\t-x \u5224\u65ad\u5f53\u524d\u6587\u4ef6\u662f\u5426\u6709\u6267\u884c\u6743\u9650\n\t-e/a \u5224\u65ad\u76ee\u5f55\u6216\u6587\u4ef6\u662f\u5426\u5b58\u5728\n# \u4f8b\u5b50\t\n\ttest -d /etc/passwd\n\techo $?\n\t[ -d /etc/ ]\n\techo $?\n\t[ -f /opt/abc.txt ] || touch /opt/abc.txt\n\techo $?\u8fd4\u56de\u503c\u4e3a0\u8868\u793a\u547d\u4ee4\u6b63\u786e,\u5426\u5219\u5931\u8d25\n# \u6574\u6570\u6bd4\u8f83\n\t\u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570,\u5224\u65ad\u7b2c\u4e00\u4e2a\u6570\u662f\u5426\u5927\u4e8e,\u5c0f\u4e8e,\u7b49\u4e8e\u7b2c\u4e8c\u4e2a\u6570\n\t-eq \u8868\u793a\u7b49\u4e8e\n\t-ne \u8868\u793a\u4e0d\u7b49\u4e8e\n\t-gt \u8868\u793a\u5927\u4e8e\n\t-lt \u8868\u793a\u5c0f\u4e8e\n\t-le \u8868\u793a\u5c0f\u4e8e\u7b49\u4e8e\uff0c\u6ee1\u8db3\u5176\u4e2d\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u5373\u4e3a\u771f\n\t-ge \u8868\u793a\u5927\u4e8e\u7b49\u4e8e,\u6ee1\u8db3\u5176\u4e2d\u4efb\u610f-\u4e2a\u6761\u4ef6\u5373\u4e3a\u771f\n# \u5b57\u7b26\u4e32\u6bd4\u8f83\n\t\u68c0\u67e5\u7528\u6237\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u662f\u5426\u7b26\u5408\u9700\u6c42\n\t== \u8868\u793a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u548c\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\u76f8\u540c\n\t!= \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u548c\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e2d\u4e0d\u540c(!\u53d6\u53cd\u7684\u610f\u601d)\n\t-z \u5b57\u7b26\u4e32:\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u7a7a\u5219\u5047\uff0c\u7a7a\u5219\u4e3a\u771f\n\t[-n\u5b57\u7b26\u4e32]]: \u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\uff0c\u4e0d\u7a7a\u5219\u771f\uff0c\u7a7a\u5219\u4e3a\u5047\n# \u4f8b\u5b50\t\n\tabc=www\n\t[ -Z $abc ] && echo "$abc"\n\t[[ -n $www ]lecho $?\n\ta=root\n\tb=ftp\n\t["$a" == "$b" ]:echo $?\n\t["$a"!= "$b" ]:echo $?\n\ta="root"\n\tb="root"\n\t["$a" == "$b" ]:echo $?\n# \u591a\u4e2a\u6761\u4ef6\u7684\u903b\u8f91\u6d4b\u8bd5\n\t\u6d4b\u8bd5\u4e24\u4e2a\u6216\u591a\u4e2a\u6761\u4ef6\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\n\t&&/-a \u903b\u8f91\u4e0e:\u5e76\u4e14\u7684\u610f\u601d,\u4e24\u8fb9\u7684\u6761\u4ef6\u90fd\u6ee1\u8db3\u624d\u6267\u884c\u4e0b\u4e00\u6b65\n\t0&& 0=0\n\t0&& 1=1\n\t1 && 0=1\n\t1 && 1=1\n# \u4f8b\u5b50\n\t[1 -eq1]&&[2 -gt 1] && echo "\u6267\u884c\u6b63\u786e"\n\t1=1\u5e76\u4e142>1\uff0c\u6253\u5370\u201d\u6267\u884c\u6b63\u786e\u201d\n\t[1 -eq1]&&[2 -It 1] && echo "\u6267\u884c\u6b63\u786e"\n\t1=1\u5e76\u4e142\u4e0d\u5c0f\u4e8e1,\u4e0d\u6253\u5370"\u6267\u884c\u6b63\u786e\u201d\n\t[1 -eq1 -a2 -ne 1]&& echo "\u6267\u884c\u6b63\u786e\u201d\n\t|/-o\u903b\u8f91\u6216:\u6216\u8005\u7684\u610f\u601d,\u4e24\u8fb9\u7684\u6761\u4ef6\u53ea\u8981\u6709\u4e00\u4e2a\u6ee1\u8db3\u5c31\u6267\u884c\u4e0b\u4e00\u6b65\n\t0||0=0\n\t0||0=0\n\t1||0=0\n\t1||1=1\n\t[1 -eq 1]||[2 -lt 1]&& echo "\u6267\u884c\u6b63\u786e"\n\t[1 -eq 1 -o 2 -lt 1]&& echo "\u6267\u884c\u6b63\u786e"\n\t1=1\u6216\u80052\u5c0f\u4e8e1,\u6253\u5370\u201d\u6267\u884c\u6b63\u786e\u201d\n# !\u903b\u8f91\u5426(\u975e),!\u5199\u5728[ ]\u91cc\u5916\u90fd\u53ef\u4ee5\n\u53d6\u53cd\u7684\u610f\u601d,\u6ee1\u8db3\u524d\u63d0\u6761\u4ef6,\u5219\u4e0d\u6267\u884c\u4e0b\u4e00\u6b65\uff0c\u4e0d\u6ee1\u8db3\u524d\u63d0\u6761\u4ef6\u6267\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\n\t[1 -eq 1 ];echo $?\n\t![1 -eq 1 ];echo $?\n\t[!1 -eq 1 ];echo $?\n'})}),"\n",(0,a.jsx)(t.h3,{id:"\u4e94shell-if\u8bed\u53e5\u7c7b\u578b",children:"\u4e94\u3001shell if\u8bed\u53e5\u7c7b\u578b"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# \u5355\u5206\u652f\n\tif [\u6761\u4ef6\u6d4b\u8bd5\u8bed\u53e5]\n\tthen\n\t\t\u547d\u4ee4\u5e8f\u5217\n\tfi\n# \u53cc\u5206\u652f\n\tif [\u6761\u4ef6\u6d4b\u8bd5\u8bed\u53e5]\n\tthen\n\t\t\u547d\u4ee4\u5e8f\u52171\n\telse\n\t\t\u547d\u4ee4\u5e8f\u52172\n\tfi\n# \u591a\u5206\u652f\n\tif [\u6761\u4ef6\u6d4b\u8bd5\u8bed\u53e51 ]\n\tthen\n\t\t\u547d\u4ee4\u5e8f\u52171\n\telif [\u6761\u4ef6\u6d4b\u8bd5\u8bed\u53e52 ]\n\tthen\n\t\t\u547d\u4ee4\u5e8f\u52172\n\telse\n\t\t\u547d\u4ee4\u5e8f\u52173\n\tfi\n"})}),"\n",(0,a.jsx)(t.h3,{id:"\u516dshell-for\u8bed\u53e5\u7c7b\u578b",children:"\u516d\u3001shell for\u8bed\u53e5\u7c7b\u578b"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'for \u53d8\u91cf\u540d in \u53d6\u503c\u5217\u8868\ndo\n\t\u547d\u4ee4\u5e8f\u5217(\u5faa\u73af\u4f53)\ndone\n\u4f8b\u5b50\n\t\u6253\u53701\u523010\n\tfor i in seq `1 10`\n\tdo\n\t\techo $i\n\tdone\n# \u6279\u91cf\u521b\u5efa\u4ee5test\u5f00\u5934\u7684\u7528,\u521b\u5efa10\u4e2a\uff0c\u521d\u59cb\u5bc6\u7801\u8bbe\u7f6e123456\n\tfor i in test{1..10}\n\tdo\n\t\tuseradd $i\n\t\techo "123456"lpasswd --stdin $i &> /dev/nul\n\tdone\n# \u6839\u636e\u6587\u4ef6\u6279\u91cf\u68c0\u6d4b\u591a\u53f0\u4e3b\u673a\u7684\u5b58\u6d3b\u72b6\u6001\n\tIP= $(cat /root/ip.txt)\n\tfor i in $IP\n\tdo\n\t\tping -c2 -i0.2 -W3 $i &> /dev/null\n\tif[$? -eq 0 ]\n\tthen\n\t\techo "Host $i is up"\n\telse\n\t\techo "Host $i is down"\n\tfi\n\tdone\n# \u67e5\u770b\u591a\u53f0\u4e3b\u673a\u7684\u591a\u4e2a\u7aef\u53e3\u662f\u5426\u5f00\u542f(\u524d\u63d0\u4e3b\u673a\u4e4b\u95f4\u79d8\u94a5\u4e92\u4fe1)\n\tfor in 128 129\n\tdo\n\t\tfor p in 222325\n\t\tdo\n\t\tssh 192.168.80.$i netstat -anptu|grep -q "$p" && echo "port $p is up"\n\t\tdone\n\tdone\n'})}),"\n",(0,a.jsx)(t.h3,{id:"\u4e03shell-while\u8bed\u53e5\u7c7b\u578b",children:"\u4e03\u3001shell while\u8bed\u53e5\u7c7b\u578b"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"while [\u6761\u4ef6\u8868\u8fbe\u5f0f]\ndo\n\t\u547d\u4ee4\u5e8f\u5217\ndone\n# \u7279\u6b8a\u7684\u6761\u4ef6\u6d4b\u8bd5\ntrue \u771f\u6761\u4ef6\u6c38\u8fdc\u6210\u7acb,\u65e0\u9650\u5faa\u73af,\u9664\u975e\u5f3a\u5236\u7ec8\u6b62\u3002\n\twhile true.\n\tdo.\n\t\techo\u201d123\u201d\u3002\n\tdone\u3002\n# \u4f8b\u5b50\n\u8ba1\u7b971\u5230100\u7684\u548c\n\ta= 1\n\tsum=0\n\twhile [ $a -le 100 ]\n\tdo\n\t\tsum=' expr $sum + $a^\n\t\ta='expr$a+1\n\tdone\n\techo $sum\n"})}),"\n",(0,a.jsx)(t.h3,{id:"\u516bshell-case\u8bed\u53e5\u7c7b\u578b",children:"\u516b\u3001shell case\u8bed\u53e5\u7c7b\u578b"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'case \u53d8\u91cf\u503c in\n\u6a21\u5f0f1)\n\t\u547d\u4ee4\u5e8f\u5217 1\n;;\n\u6a21\u5f0f2)\n\t\u547d\u4ee4\u5e8f\u5217 2\n;;\n*)\n\t\u9ed8\u8ba4\u547d\u4ee4\u5e8f\u5217\n;;\nesac\n# \u4f8b\u5b50\n\u63d0\u793a\u7528\u6237\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u5224\u65ad\u51fa\u8be5\u5b57\u7b26\u662f\u5b57\u6bcd,\u6570\u5b57\u6216\u8005\u5176\u4ed6\u5b57\u7b26\n\tread -p "\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u201d key\n\tcase $key in\n\t[a-z][A-Z])\n\techo "\u5b57\u6bcd"\n\t;;\n\t[0-9])\n\techo "\u6570\u5b57\u201d\n\t;;\n\t*)\n\techo "\u5176\u4ed6\u5b57\u7b26"\n\tesac\nsleep 1 \u63a7\u5236\u811a\u672c\u7684\u5faa\u73af\u901f\u5ea6(\u7761\u77201s)\nseq \u8d77\u59cb\u503c \u6b65\u957f \u7ed3\u675f\u503c\nshell \u5faa\u73af\u63a7\u5236\u7ed3\u6784\nbreak \u8bed\u53e5\u53ef\u4ee5\u7ed3\u675fwhile,for,until\u6216\u8005select\u7b49\u7ed3\u6784\u7684\u6267\u884c,\u9000\u51fa\u5faa\u73af\u4f53\ncontinue \u8df3\u51fa\u672c\u6b21\u5faa\u73af,\u56de\u5230\u5faa\u73af\u7684\u5f00\u59cb\u4f4d\u7f6e,\u7ee7\u7eed\u6267\u884c\u4e0b\u6b21\u5faa\u73af\u3002\nexit \u9000\u51fa\u811a\u672c\uff0c\u5faa\u73af\u4f53\u5916\u7684\u547d\u4ee4\u4e0d\u4f1a\u6267\u884c\u3002\n'})})]})}function h(n={}){const{wrapper:t}={...(0,l.R)(),...n.components};return t?(0,a.jsx)(t,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},28453:(n,t,e)=>{e.d(t,{R:()=>o,x:()=>r});var s=e(96540);const a={},l=s.createContext(a);function o(n){const t=s.useContext(l);return s.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function r(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:o(n.components),s.createElement(l.Provider,{value:t},n.children)}}}]);