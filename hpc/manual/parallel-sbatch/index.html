<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-hpc docs-version-current docs-doc-page docs-doc-id-manual/parallel-sbatch" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">批量提交作业脚本 | NSCCJN</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.ai.nsccjn.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.ai.nsccjn.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.ai.nsccjn.org/hpc/manual/parallel-sbatch"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-hpc-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-hpc-current"><meta data-rh="true" property="og:title" content="批量提交作业脚本 | NSCCJN"><meta data-rh="true" name="description" content="所需文件"><meta data-rh="true" property="og:description" content="所需文件"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.ai.nsccjn.org/hpc/manual/parallel-sbatch"><link data-rh="true" rel="alternate" href="https://docs.ai.nsccjn.org/hpc/manual/parallel-sbatch" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://docs.ai.nsccjn.org/hpc/manual/parallel-sbatch" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"使用扩展","item":"https://docs.ai.nsccjn.org/hpc/category/使用扩展"},{"@type":"ListItem","position":2,"name":"批量提交作业脚本","item":"https://docs.ai.nsccjn.org/hpc/manual/parallel-sbatch"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="NSCCJN RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="NSCCJN Atom Feed"><link rel="stylesheet" href="/assets/css/styles.543e9c57.css">
<script src="/assets/js/runtime~main.814bc16f.js" defer="defer"></script>
<script src="/assets/js/main.e5a33419.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My  Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="My  Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NSCCJN Docs</b></a><a class="navbar__item navbar__link" href="/docs/intro">AI平台</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hpc/intro">HPC平台</a><a class="navbar__item navbar__link" href="/know/intro">知识库</a><a class="navbar__item navbar__link" href="/blog">公告</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/intro">Version 4.5</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/intro">Version 4.5</a></li><li><a class="dropdown__link" href="/docs/3.2/intro">Version 3.2</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hpc/intro">超算简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hpc/notice">使用须知</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc/category/平台登录">平台登录</a><button aria-label="展开侧边栏分类 &#x27;平台登录&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hpc/1.4_ftp">上传文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hpc/1.5_login_log">登录常见问题</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc/category/提交作业">提交作业</a><button aria-label="展开侧边栏分类 &#x27;提交作业&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc/category/软件环境">软件环境</a><button aria-label="展开侧边栏分类 &#x27;软件环境&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/hpc/category/使用扩展">使用扩展</a><button aria-label="折叠侧边栏分类 &#x27;使用扩展&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc/manual/ftp-config">ftp-config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc/manual/count">count</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc/manual/nopasswd">nopasswd</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/hpc/manual/parallel-sbatch">批量提交作业脚本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc/manual/parallel-cp">批量复制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc/manual/random">批量随机复制</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hpc/lxwm">获取支持</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/hpc/category/使用扩展"><span>使用扩展</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">批量提交作业脚本</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>批量提交作业脚本</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="所需文件">所需文件<a href="#所需文件" class="hash-link" aria-label="所需文件的直接链接" title="所需文件的直接链接">​</a></h3>
<p>#####批量提交脚本</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for file in ./*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if test -d $file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cp run.slurm $file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cd $file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chmod +x ./run.slurm &amp;&amp; sbatch ./run.slurm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cd ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sleep 1s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span></code></pre></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="提交脚本模板">提交脚本模板<a href="#提交脚本模板" class="hash-link" aria-label="提交脚本模板的直接链接" title="提交脚本模板的直接链接">​</a></h5>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --nodes=1                    # 节点数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --ntasks-per-node=56         # 每个节点核心数量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --ntasks=56                  # 总核心数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --partition=g1_cae           # 队列分区且必须指定正确分区</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --job-name=sp-b1             # 作业名称</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --output=sp-b%a.out.%A       # 正常日志输出 (%A 参数值为 jobId, %a 参数为inp文件的号)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --error=sp-b%a.err.%A        # 错误日志输出 (%A 参数值为 jobId，%a 参数为inp文件的号)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH -a 1-5                       # 1-5 表示inp文件的区间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file=sp-b${SLURM_ARRAY_TASK_ID}      # inp文件的格式前缀</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;${file}.inp run in `hostname`&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;This is job #${SLURM_ARRAY_JOB_ID}, with parameter $SLURM_ARRAY_TASK_ID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abaqus job=${file} input=${file}.inp analysis cpus=$SLURM_NPROCS scratch=$SLURM_SUBMIT_DIR interactive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sleep 1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="操作步骤">操作步骤<a href="#操作步骤" class="hash-link" aria-label="操作步骤的直接链接" title="操作步骤的直接链接">​</a></h3>
<p>1、将所有需要批量提交的算例放到一个文件夹下面的子文件夹中
结构示例：
<img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXgAAACgCAMAAAAxWYdiAAABQVBMVEUcHBwcRY0caq7s7K4cHGq0tbRGHBz////s7OxqHBxqruwcHEXNjUbN7Oyu7K7N7K7szY2NRhzsrmrs7M2u7Oyu7M1Gaq6NzeyuahwcRmpqrs1Hjc09NjJFRUclHh0cHSjNrmo+HBzN7M0buumujWlpRRyujUaua0ZGRhzNzcwcHFzNkmXsza4buaytzuxpaUglZpgcQUgjHlWOrs1Fi65Fao6uzc2OaB0dLjyurmrMrY4cl+kcV6xBQX83NUwcPWYbaUUhV4YmdLxdo+Ours3Nrq5qro0bhGlqaq6Ljq1Gamo5HC4bn4yGf2VikL9KQlsbm8uNakYbVxzsro2RzM6MsbFHLmxmTEJoLjzszc0busscOxxzrKyRpYqNjc2Sv8siTmnDxJqrpJ6uzY2NRkZGjY13d5FbHBynaiR+uumErtKAwBR0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKiElEQVR4nO2daVvbOBeGZce4jpVAcAJpyMISMkNKS0koEAoDA4VhurB0pttM2+k26/v/f8B7abUcO5BAiOJwni8BSZaVO8fH0rEsobE7d+7cQUTWeJJ+Pko79ycRMiaSCJkZmySZaSdlpB3HyU7KfJxP0eKyHF5zst8hhKbTjjNHD0NmglTpeqz+Fee3l0jVjON4COEZx3lck/WKdHo+J+U3bXXDcbLfy4ONiaSZsd2UsTDJ2oLzTvap315kTbHahKyc4zi0Qex4pX4qpd1CrP03ozD4bmUs+BRuWBZrGv2NR0UK+JzjMIPpUoWNgMXclKycMNQRBQ8aqAC8fvCNcnnJz1Cua/ywFw/UdzUC7RpBHz91NLZoR4G/sm991o9fDL8eO2QNMMZG0se39Woup72+wvqPXKI7WZDJRjqR5N22jE3Tl7vprJksfTote4+8adMLf3Zz/KiDN7MvEelEM822njwuFfKbs/ikhvY+bZJf4sPfX/5BCFVKpf+lSuVXqdLup38rlUp34I2tJWSk7/pNs3JH9cO5UDkiXNbqC/sEnluaMfFz2rlfo9058g3p+IMMoHi+lSNQ3BQr9/azeUC02qoIzQqVvl/mWjw5efi2XGrNygEMH0CRgYs4r0gncpUBVNGztpSGy3LW+B8L9URS1iM+4wbemtpE+CfiIuZszAad8looZmyZbyaShZXsocfKfS0+oXpUnud63rzH1SwJlfdXqT7PKhbrejYZeYp6A5acVyy+mHmjgpflrNycjRqyHvkZO/C5ZdqHoF6EhQwEePpNRX7RQ66HXY+VG3OZTs9srudNi6tJMRO19k2q1Yasjo3szYwt6lXB82ADawC5hywuRYBnoQFZD/9EsXM1xkaa3ByVWI0YsTOHzvOLHrHHosfKfTntBby5p/hycfPl9SrgZwQ+YRPf1tTbQhC8qEfWF8eb6zTpjbSDZ05d5hczNrN4Vu6s+N/p6emTp8zVlN7Zu29+IGreu9fcLfHjWqvTq6umae63FItX7umkXh+85C7BbwnfE2XxvJ5eQ05DA95YtEPgyVfDeXbdi3zp40U591e7kLtL8wu8LLdpdqX8VUPr6X9bjcL+PvU0It31bLS+KOsV6dj1rZY27VnN2iqoEUd+vIhC8nrk55ArtmFhJI4X4EU94nPIBWFhTYKwsCZBdFKTALwmAXhNAvCaBOA1CcBrEoDXJACvSQBekwC8JgF4/eCtFW/oHx+MJvjc8D+3GU1XgzW35VYJfLwmAfghAM+nD4EGIQAfA/AFvdO1by14Kxfr6bmxBY/zRzGZKzRq4E/iMklr5Hw8gL8p8E5YCaUsgO+jwOI1CcBrEoAfevBtizCAricIGWgSgNckAK9JAF6TALwmAfihB68s6gAaIHh1UQfQoF0NPJXVAz7wYjVoYGFhuagDaLAW7y8uABokeOCuBby6qANokN3J9rV4QdcSjFw1CcBrEoDXJACvSQBekwD80IP31wwGDXQA9bGGyCp7oP4IwsJxAA8WryUsXAQfr83iY7BK9Wj6+BisUj160UllzWDQgKd3xGEngrgIRq6aBOA1CcAPAfgidBYHJwAfB/B92UIO1DN4uoUcaODg8aunAF4H+OJcvLc1jCt4azwJ4G8I/IVhYfduzDfyjOkqfGamXJ5OvL35Ft0SdQ++Xq/LLbJAg113ElxN/wTgNQlWWtUkAK9JAF6TALwmAXhNAvCaBOA1CcBrEoDXJACvSQBekwC8JgF4TQLwmgTgNQnAaxKA1yQAr0kAfijBs5fN8BXnql71OGPF8c9bHNHdAgLgQ7OBGXhj4mrf/KrHuanA8VetJj7gw7OBu3q98pqTPvBa24vL7cuKjjz4iNnAbeBx2e4KfHS5DnJ/tYOv6t868G2zga0VJ/s0Y5NNWWiyNf7HQj2RRHiGvXZJPh/bfHU+j1ouTRflxHGifIfVuK2pSYSK/vuzOE/qU84rwF9ST3zBt88Gdj27kKcWz3Y8s3JzNmrQdExerXczNbS+6Vs8LZ/yy4njeHlrahPhn8K2axCsgStLWjzfaY2Dv6Se+IJvmw1MLdFUwZMEP53/K8HL8n4GPU6Wzy0vRTXAmHiXTwV+8Wjwl9UTW/Dts4EVSwyAZ64lY/uel1GT5dvAi/LI2EhHrfBkdGnxl9UTX/Bts4E7WjzfW7Rri1f2Ip1mho3tC3x8R4sP1zM6/fhOPp6iFEBdz0bri4qPNxYmAz7eB0//4uXJIhQMmBXcCblzr0b81Cw3VM+ogsd51qsh6WknJYHS3kxN9mrIMtvBXo0Ez44T5R+J6wl/CPQPL+jH0+PFR6ieeEtHrMb6Bq/L6gCPX8FafnrALw32fMMpCAvrB98ol5ciIyRXDe/2SY1Au4TiHi5WQgZTR2OLdhT4K0ep+rLoBH49dsjjw2PJ0QmeBWI1vX2t9eBiw6JbuLdWr3/nh5nliJOsTbzcTTjZZOlKMIw3bXrhz95aOJrgzexLMXZSB0L4YQW1XpOBFf7w95d/EEKVUvm/5fLZynL57NPdrsEbyhZ3bAicO6ofzvXSwpiB55ZmTPycdu7X6F7dhATdsjs7KfPZeNJNiXJy6F/hmhUqf61zfT3xfZkhw8nBcK9MV55F0aYVPWsr0HQOPqZh4hB4EXY10nM2ZludyWuhSEMxLN9MJAsr2UNPlBPBrso80/PmPa7mbomrvL++65/aTESHe/0rQYxhGfjMmyjwcQ0Th8HzsCv1ImqQjBMR+UUPuR52PVFOhHcr8zbV86bF1ZwVJ2vtH5z5pzYT0eFeH7zY4o42gNxDFpfC4GMaJg67Gh52DYWFhUPn+UWP2GPRE+V8i78I/KOQxRuhcK8EL7daEzbxbU29LYhn4fEME0feXEn0LxyP90OIJL+YsZnF83K+j5+fny+9s3ff/EDUpK6GH9da/Tgbsvjx9nCvAO9vcSfAbwUex/o31zhGK0PgRdhVBU+YYr6usMiXPl6U470adQ1ibtPsSvmrhtYDG/EaMpwcDPeydHWLO9q0ZzVrq+BHPoUlxDVMHLZ4HnZVnwyRuCx1CaRXw/Ppc1f1CZLoxytrEDPw3FNbK85vLwPnnpG9mmC4l6arW9zRpq1uOG3dFxYujmmYuGM//lIZCwPrxFmBp96jIQV8jt7juldhYyCbLlo5EZUZUfCggQrAaxKAHwLwez/2qdLP/arodoC3qg+iSuxUq79Hgdzbjk5HyIiuCBQNHm8fRPEyjt8jo/pLKB2/eI/2ItIRwucmgO8F/LHVkdf2jz2kHxzvAPiefHxH8Hg7yrJRtMVbDxCA7xP47eOo1INoH7/9C4DvE/jzFx0O3otwNTsvGo2dB3R+POh64DtyJ5TDSefn59Xqg/cXnRTUBXi8Hc3dOCYWH+mDwNX0FiSrVqsRHXCDJFcjnPlOtVqN5g7guxCEDDQJwGsSgNckAK9JsZ0tfJm6fVyl67FWjGcLX6yIRheimjME4Ps0W5jMCh7IbGHzwkkd4fa3vW3YsVxcZwt/rCH2+qSyKIWbotNBgstDmNecLdwjeJw/Gh9q8NedLSxn+fqLUpDfp/0NbuOas4XbF6/w5/fwxS1E+4XwSdC02r/nYPV/f/Q6JCkC7qgAAAAASUVORK5CYII=" width="376" height="160" class="img_ev3q">
其中test2 为批量提交作业的文件夹，1-4代表提交作业子算例文件夹
2、将上述中第一个脚本放置在 test2 下默认为1.sh ，将准备好的算例提交脚本run.slurm 也放置在test2 下
结构示意：
<img decoding="async" loading="lazy" src="data:image/png;base64,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" width="512" height="211" class="img_ev3q">
3、执行 1.sh
source 1.sh
4、脚本解析
<img decoding="async" loading="lazy" src="/assets/images/parallel-sbatch_3-8ebc45f51b7938f0aeddd491a7b6a9ae.png" width="816" height="375" class="img_ev3q"></p>
<p>1 遍历当前文件夹下所有文件
2 判断是否为文件夹
3 复制提交脚本到子算例文件夹下
4 添加提交脚本执行权限 提交作业
注意：
一个子算例文件夹 放置一个算例
需要指定输入文件的 提交脚本 需要进行修改</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/hpc/manual/nopasswd"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">nopasswd</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hpc/manual/parallel-cp"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">批量复制</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#所需文件" class="table-of-contents__link toc-highlight">所需文件</a></li><li><a href="#操作步骤" class="table-of-contents__link toc-highlight">操作步骤</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">使用文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.nsccjn.org/docs/intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">AIStation v4.5<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.nsccjn.org/docs/3.2/intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">AIStation v3.2<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.nsccjn.org/hpc/intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">HPC<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">获取支持</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ticket.nsccjn.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">提交工单<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">友情连接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.qlu.edu.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">齐鲁工业大学(山东省科学院)<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.nsccjn.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">国家超级计算济南中心<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NSCCJN</div></div></div></footer></div>
</body>
</html>